<%= form_for @game, url:{:controller=>'games', :action=>'update'}, html:{method:'post'} do |f| %>
  <% if game.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(game.errors.count, "error") %> prohibited this game from being saved:</h2>

      <ul>
      <% game.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= f.label :opponent %>
    <%= f.text_field :opponent, class:"form-control" %>
  </div>
  
  <div class="form-group">
    <%= f.label :no_of_innings %>
    <%= f.select :no_of_innings, [5,6,7,8,9], {}, {class: "form-control"} %>
  </div>
  
  <div class="form-group">
    <%= f.label :date %>
    <%= f.date_field :date, class:"form-control" %>
  </div>

  <div class="actions">
    <%= f.submit "Update Game", class:"btn btn-danger" %>
  </div>
  <br>
  
    <%= f.fields_for :inning do |i| %>
    <table class="table table-striped">
      <tr>
        <td></td>
        <% index = 1 %>
              <% @game.innings.each do |inning| %>
                  <th><%= index %></th>
                  <% index += 1 %>
              <% end %>
              
                
              </tr>
              
              <tr>
                <td>Pitcher</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :p %></td>
                <% end %>
              </tr>
              
              <tr>
                <td>Catcher</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :c %></td>
                <% end %>
              </tr>
              
              <tr>
                <td>First</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :first %></td>
                <% end %>
              </tr>
              
              <tr>
                <td>Third</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :third %></td>
                <% end %>
              </tr>
              
              <tr>
                <td>Left Rover</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :lr %></td>
                <% end %>
              </tr>
              
              <tr>
                <td>Right Rover</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :rr %></td>
                <% end %>
              </tr>
              
              <tr>
                <td>Left</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :l %></td>
                <% end %>
              </tr>
              
              <tr>
                <td>Left Center</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :lc %></td>
                <% end %>
              </tr>
              
              <tr>
                <td>Right Center</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :rc %></td>
                <% end %>
              </tr>
              
              <tr>
                <td>Right</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :r %></td>
                <% end %>
              </tr>
              
              <tr>
                <td>Bench</td>
                <% @game.innings.each do |inning| %>
                    <td><%= i.text_field :bench %></td>
                <% end %>
              </tr>
        
    </table>
    <% end %>
    
    <%= f.submit "Update Game", class:"btn btn-danger" %>
    
<% end %>
<br>